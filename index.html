<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ù–∞–º–µ—Ä–µ–Ω–∏–µ –∏ –í–∏–¥–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app" class="app-container">
        <!-- 1. –≠–∫—Ä–∞–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è -->
        <div id="welcome" class="screen">
            <h1>–ü—Ä–∏–≤–µ—Ç, <span id="username">–ò–≥—Ä–æ–∫</span>!</h1>
            <p>–ß—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –ø—Ä–æ–∫–∞—á–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è?</p>
            <button id="chooseIntentionBtn">‚ö°Ô∏è –ù–∞–º–µ—Ä–µ–Ω–∏–µ</button>
            <button id="chooseVisionBtn">üëÅÔ∏è –í–∏–¥–µ–Ω–∏–µ</button> <!-- –≠—Ç–∞ –∫–Ω–æ–ø–∫–∞ —Ç–µ–ø–µ—Ä—å –≤–µ–¥–µ—Ç –∫ –≤—ã–±–æ—Ä—É —Ç–∏–ø–∞ –í–∏–¥–µ–Ω–∏—è -->
        </div>

        <!-- 2. –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã "–ù–∞–º–µ—Ä–µ–Ω–∏–µ" (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) -->
        <div id="intentionGame" class="screen hidden">
            <h2>–ü—Ä–æ–∫–∞—á–∫–∞ –ù–∞–º–µ—Ä–µ–Ω–∏—è</h2>
            <p>–°–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–π—Å—è –∏ –ø—Ä–æ—è–≤–∏ –Ω—É–∂–Ω—ã–π —Ü–≤–µ—Ç —Å–≤–æ–∏–º –Ω–∞–º–µ—Ä–µ–Ω–∏–µ–º. –ö–æ–≥–¥–∞ –±—É–¥–µ—à—å –≥–æ—Ç–æ–≤, –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É.</p>
            <div id="intentionColorResult" class="color-display"></div>
            <button id="showIntentionColorBtn">–ü–æ–∫–∞–∑–∞—Ç—å –¶–≤–µ—Ç</button>
            <button class="back-btn" data-target="welcome">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- 3. –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∏–≥—Ä—ã "–í–∏–¥–µ–Ω–∏–µ" (–ù–û–í–´–ô) -->
        <div id="visionTypeSelection" class="screen hidden">
            <h2>–ü—Ä–æ–∫–∞—á–∫–∞ –í–∏–¥–µ–Ω–∏—è</h2>
            <p>–í—ã–±–µ—Ä–∏ —Ç–∏–ø –∏–≥—Ä—ã:</p>
            <button id="selectVisionColorBtn">üåà –¶–≤–µ—Ç–∞</button>
            <button id="selectVisionSymbolBtn">üß© –°–∏–º–≤–æ–ª—ã</button>
            <button class="placeholder-btn" disabled>üîë –ö–ª—é—á</button>
            <button class="placeholder-btn" disabled>‚öΩ –°–ø–æ—Ä—Ç</button>
            <button class="placeholder-btn" disabled>üìà –ë–∏—Ä–∂–∞</button>
            <button class="placeholder-btn" disabled>ü™ô –ú–æ–Ω–µ—Ç–∫–∞</button>
            <button class="placeholder-btn" disabled>üé≤ –ö—É–±–∏–∫</button>
            <button class="back-btn" data-target="welcome">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- 4. –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã "–¶–≤–µ—Ç–∞" (–ù–û–í–´–ô) -->
        <div id="colorSetupScreen" class="screen hidden">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä—ã "–¶–≤–µ—Ç–∞"</h2>
            <p>–í—ã–±–µ—Ä–∏ –æ—Ç 2 –¥–æ 7 —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä—ã:</p>
            <div id="colorSelection" class="color-selection-container">
                <!-- –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è —Ü–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞ JS -->
            </div>
            <p id="colorSelectionError" class="error-message hidden">–ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ—Ç 2 –¥–æ 7 —Ü–≤–µ—Ç–æ–≤.</p>
            <button id="startColorGameBtn">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É "–¶–≤–µ—Ç–∞"</button>
            <button class="back-btn" data-target="visionTypeSelection">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- 5. –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã "–¶–≤–µ—Ç–∞" (–±—ã–≤—à–∏–π visionGameScreen, –æ–±–Ω–æ–≤–ª–µ–Ω) -->
        <div id="colorGameScreen" class="screen hidden">
            <h2>–ü—Ä–æ–∫–∞—á–∫–∞ –í–∏–¥–µ–Ω–∏—è: –¶–≤–µ—Ç–∞</h2>
            <p>–ü–æ–ø—Ä–æ–±—É–π —É–≥–∞–¥–∞—Ç—å –∑–∞–≥–∞–¥–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç.</p>
            <button id="shuffleColorBtn">–ü–µ—Ä–µ–º–µ—à–∞—Ç—å –∏ –ó–∞–≥–∞–¥–∞—Ç—å</button>
            <div id="colorShuffling" class="shuffling-indicator hidden">–ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º...</div>
            <div id="colorChoice" class="choice-container hidden">
                <p>–ö–∞–∫–æ–π —Ü–≤–µ—Ç –±—ã–ª –∑–∞–≥–∞–¥–∞–Ω?</p>
                <div id="colorChoiceButtons" class="button-grid">
                    <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞ JS -->
                </div>
            </div>
            <div id="colorResult" class="result-message"></div>
             <div id="colorStats" class="stats">
                <p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¶–≤–µ—Ç–∞):</p>
                <p>–£—Å–ø–µ—à–Ω–æ: <span id="colorWins">0</span></p>
                <p>–ü–æ–ø—ã—Ç–æ–∫: <span id="colorAttempts">0</span></p>
            </div>
            <button class="back-btn" data-target="visionTypeSelection">–ù–∞–∑–∞–¥</button>
             <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–º–µ–Ω—ã —Ü–≤–µ—Ç–æ–≤ -->
            <button id="changeColorsBtn" class="secondary-action-btn">–°–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–∞</button>
        </div>

        <!-- 6. –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã "–°–∏–º–≤–æ–ª—ã" (–ù–û–í–´–ô) -->
        <div id="symbolsSetupScreen" class="screen hidden">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä—ã "–°–∏–º–≤–æ–ª—ã"</h2>
            <p>–í—ã–±–µ—Ä–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —É–≥–∞–¥—ã–≤–∞–Ω–∏—è:</p>
            <div class="button-group">
                <button class="symbol-count-btn" data-count="2">2 –°–∏–º–≤–æ–ª–∞</button>
                <button class="symbol-count-btn" data-count="3">3 –°–∏–º–≤–æ–ª–∞</button>
                <button class="symbol-count-btn" data-count="4">4 –°–∏–º–≤–æ–ª–∞</button>
            </div>
            <p class="info-text">(–ö—Ä—É–≥, –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫, –ü—É—Å—Ç–æ, –ö–≤–∞–¥—Ä–∞—Ç)</p>
            <button class="back-btn" data-target="visionTypeSelection">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- 7. –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã "–°–∏–º–≤–æ–ª—ã" (–ù–û–í–´–ô) -->
        <div id="symbolsGameScreen" class="screen hidden">
            <h2>–ü—Ä–æ–∫–∞—á–∫–∞ –í–∏–¥–µ–Ω–∏—è: –°–∏–º–≤–æ–ª—ã</h2>
            <p>–ü–æ–ø—Ä–æ–±—É–π —É–≥–∞–¥–∞—Ç—å –∑–∞–≥–∞–¥–∞–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª.</p>
            <button id="shuffleSymbolBtn">–ü–µ—Ä–µ–º–µ—à–∞—Ç—å –∏ –ó–∞–≥–∞–¥–∞—Ç—å</button>
            <div id="symbolShuffling" class="shuffling-indicator hidden">–ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º...</div>
            <div id="symbolChoice" class="choice-container hidden">
                <p>–ö–∞–∫–æ–π —Å–∏–º–≤–æ–ª –±—ã–ª –∑–∞–≥–∞–¥–∞–Ω?</p>
                 <div id="symbolChoiceButtons" class="button-grid symbol-grid">
                    <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å–∏–º–≤–æ–ª–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞ JS -->
                </div>
            </div>
            <div id="symbolResult" class="result-message"></div>
             <div id="symbolStats" class="stats">
                <p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–°–∏–º–≤–æ–ª—ã):</p>
                <p>–£—Å–ø–µ—à–Ω–æ: <span id="symbolWins">0</span></p>
                <p>–ü–æ–ø—ã—Ç–æ–∫: <span id="symbolAttempts">0</span></p>
            </div>
            <button class="back-btn" data-target="visionTypeSelection">–ù–∞–∑–∞–¥</button>
             <!-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–º–µ–Ω—ã –∫–æ–ª-–≤–∞ —Å–∏–º–≤–æ–ª–æ–≤ -->
             <button id="changeSymbolsBtn" class="secondary-action-btn">–°–º–µ–Ω–∏—Ç—å –∫–æ–ª-–≤–æ</button>
        </div>

    </div>

    <script src="script.js"></script>
</body>
    </html>
